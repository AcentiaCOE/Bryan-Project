{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "",
        "designer|userClassName": "Account"
    },
    "designerId": "2b2edcc9-aa68-4e7d-8ac3-f64f316af5b9",
    "customConfigs": [
        {
            "group": "(Custom Properties)",
            "name": "ac",
            "type": "string"
        }
    ],
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "homeview #showLoginButton",
                "designer|targetType": "Ext.Button",
                "fn": "showLogin",
                "implHandler": [
                    "\r",
                    "var homeView = this.getHomeView();\t\t\t\t// Main view\r",
                    "\r",
                    "\r",
                    "// Navigate to login\r",
                    "homeView.push({\r",
                    "    xtype: \"loginform\",\r",
                    "    title: \"Login\"\r",
                    "});\r",
                    "\r",
                    ""
                ],
                "name": "tap"
            },
            "designerId": "469da748-208d-4eaa-8934-787a51755a14"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "homeView",
                "selector": "homeview"
            },
            "designerId": "550fd847-7335-4652-8d7c-4f8bb337056c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "loginform #loginbutton",
                "designer|targetType": "Ext.Button",
                "fn": "login",
                "implHandler": [
                    "\r",
                    "var form = button.up('formpanel'),\r",
                    "\tvalues = form.getValues(),\r",
                    "\thomeView = this.getHomeView(),\r",
                    "\tloginForm = this.getLoginForm(),\r",
                    "\tmainPage = this.getMainPage();\r",
                    "\r",
                    "// Success\r",
                    "var successCallback = function(resp, ops) {\r",
                    "\r",
                    "    // Go back\r",
                    "    //mainView.pop();\r",
                    "    homeView.hide();\r",
                    "\r",
                    "    // Hide login panel\r",
                    "    loginForm.hide();\r",
                    "\r",
                    "    // Show welcome panel\r",
                    "    //welcomePanel.show();\r",
                    "\r",
                    "    if(!mainPage.getParent()){\r",
                    "        Ext.Viewport.add(mainPage);\r",
                    "    }\r",
                    "\r",
                    "    mainPage.show();\r",
                    "\r",
                    "};\r",
                    "\r",
                    "// Failure\r",
                    "var failureCallback = function(resp, ops) {\r",
                    "\r",
                    "    // Show login failure error\r",
                    "    Ext.Msg.alert(\"Login Failure\", resp);\r",
                    "\r",
                    "};\r",
                    "\r",
                    "\r",
                    "debugger;\r",
                    "var username = Ext.getCmp('username');\r",
                    "var password = Ext.getCmp('password');\r",
                    "\r",
                    "// TODO: Login using server-side authentication service\r",
                    "// Ext.Ajax.request({\r",
                    "//\t\turl: \"/api/login\",\r",
                    "//\t\tparams: values,\r",
                    "//\t\tsuccess: successCallback,\r",
                    "//\t\tfailure: failureCallback\r",
                    "// });\r",
                    "\r",
                    "\r",
                    "console.log(username.getValue());\r",
                    "\r",
                    "if(username.getValue() == 'test' && password.getValue() == 'test')\r",
                    "    successCallback();\r",
                    "else \r",
                    "    failureCallback();\r",
                    "\r",
                    ""
                ],
                "name": "tap"
            },
            "designerId": "d139c2c3-96fe-49ef-830e-2d9e076e4364"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "loginForm",
                "selector": "loginform"
            },
            "designerId": "ba520056-5a7c-4c70-b434-125a8ed89ea4"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoCreate": true,
                "ref": "mainPage",
                "selector": "mainpage",
                "xtype": "mainpage"
            },
            "designerId": "8bba4479-1feb-45b9-b35c-8a799705aab2"
        }
    ]
}